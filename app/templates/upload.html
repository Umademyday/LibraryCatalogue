<!-- templates/upload.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Upload Book</title>
</head>
<body>
  <h1>Upload a Book</h1>
  <form action="/upload" method="post" enctype="multipart/form-data">
    <label for="title">Title:</label><br>
    <input type="text" name="title" required><br><br>

    <label for="author">Author:</label><br>
    <input type="text" name="author" required><br><br>

    <label for="genre">Genre:</label><br>
    <select name="genre" required>
      {% for g in genres %}
        <option value="{{ g }}">{{ g }}</option>
      {% endfor %}
    </select><br><br>

    <label for="location">Location:</label><br>
    <select name="location" required>
      {% for l in locations %}
        <option value="{{ l }}">{{ l }}</option>
      {% endfor %}
    </select><br><br>

    <label for="cover_image">Cover Image:</label><br>
    <input type="file" name="cover_image" accept="image/*"><br><br>

    <button type="submit">Upload</button>
  </form>

  {% if image_url %}
    <h2>Uploaded Image Preview:</h2>
    <img src="{{ image_url }}" alt="Uploaded Cover" width="300">
  {% endif %}

  {% if raw_text %}
    <h2>Extracted Text (OCR):</h2>
    <pre style="white-space: pre-wrap;">{{ raw_text }}</pre>
  {% endif %}

  <br>
  <a href="/">Back to Library</a>
</body>
</html>
